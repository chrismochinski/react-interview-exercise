var H=Object.defineProperty,K=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var A=(r,t,a)=>t in r?H(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,w=(r,t)=>{for(var a in t||(t={}))R.call(t,a)&&A(r,a,t[a]);if(y)for(var a of y(t))I.call(t,a)&&A(r,a,t[a]);return r},F=(r,t)=>K(r,O(t));var M=(r,t)=>{var a={};for(var o in r)R.call(r,o)&&t.indexOf(o)<0&&(a[o]=r[o]);if(r!=null&&y)for(var o of y(r))t.indexOf(o)<0&&I.call(r,o)&&(a[o]=r[o]);return a};import{u as q,j as e,B as v,e as Y,a as l,F as S,L as J,G as Z,M as Q,T as p,r as m,C as X,b as V,S as ee,H as te,D as re,c as oe,I as se,d as ae,f as ne,g as ie,h as le,i as ce,k,U as T,l as _,m as P,R as ue,n as de,o as he}from"./vendor.be9512ac.js";const pe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=a(s);fetch(s.href,n)}};pe();var fe="/react-interview-exercise/assets/header_logo.1094da8d.png";const me={baseStyle:{display:"flex",flexDirection:"column",alignItems:"left",gap:20},variants:{rounded:{padding:8,borderRadius:"40px",boxShadow:"xl",border:"2px solid"},smooth:{padding:6,borderRadius:"base",boxShadow:"md"}},defaultProps:{variant:"smooth"}},ge=s=>{var n=s,{variant:r,children:t,borderColor:a}=n,o=M(n,["variant","children","borderColor"]);const c=q("Card",{variant:r});return e(v,F(w({className:"cs-card",__css:c,borderColor:a},o),{children:t}))},Se={baseStyle:{bg:"#DDB94F",fontWeight:"300",borderRadius:"25px",_hover:{bg:"black",color:"black"}},sizes:{sm:{fontSize:"sm",px:4,py:3},md:{fontSize:"md",px:6,py:4}},variants:{outline:{border:"2px solid"},ghost:{border:"none",color:"#fff",textTransform:"uppercase"},solid:{color:"1px solid black"}},defaultProps:{size:"md",variant:"outline"}},be={baseStyle:{bg:"white"}};var ve=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Button:Se,Input:be});const ye={brand:{green:"#42E794",darkGreen:"#1E7B75",red:"#FF4658",orange:"#FF6105",lightBlue:"#2ab8ff",darkBlue:"#1467FF",blue:"#2AB8FF",purple:"#630CB2",yellow:"#fff95e"},blue:{500:"#2ab8ff",600:"#1467FF"},yellow:{100:"#fff95e"},red:{100:"#ff4658"},pink:{100:"#e748b9"}},x=Y({colors:ye,components:w({Card:me},ve)});const $=({children:r,color:t=x.colors.brand.blue,size:a=["50%","50%"],globSizes:o=[[40,80],[60,50],[20,80]],globPositions:s=[[20,10],[10,20],[20,15]],top:n,left:c,right:h,bottom:d,opacity:N=1,speed:u,radius:b,rotate:f})=>l(S,{children:[l("div",{className:"blob",style:{top:n,left:c,right:h,bottom:d,width:a[0],height:a[1],opacity:N,transform:f?`rotate(${f}deg)`:void 0},children:[e("div",{className:"glob",style:{backgroundColor:t,width:o[0][0]+"%",height:o[0][1]+"%",top:s[0][0]+"%",left:s[0][1]+"%",animation:u?`move ${u*1200}ms infinite alternate ease-in-out`:void 0,borderRadius:b}}),e("div",{className:"glob1",style:{backgroundColor:t,width:o[1][0]+"%",height:o[1][1]+"%",top:s[1][0]+"%",left:s[1][1]+"%",animation:u?`move ${u*1e3}ms infinite alternate ease-in-out`:void 0,borderRadius:b}}),e("div",{className:"glob2",style:{backgroundColor:t,width:o[2][0]+"%",height:o[2][1]+"%",top:s[2][0]+"%",left:s[2][1]+"%",animation:u?`move ${u*800}ms infinite alternate ease-in-out`:void 0,borderRadius:b}})]}),e("svg",{className:"glob-svg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:e("defs",{children:l("filter",{id:"goo",children:[e("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12",result:"blur"}),e("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),e("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),e("svg",{className:"glob-svg",viewBox:"0 0 400 400",children:e("defs",{children:e("filter",{id:"duotone-filter-post-one",children:e("feColorMatrix",{type:"matrix",values:"0.14453125 0 0 0 0.33203125 0.71875 0 0 0 0.27734375 -0.34765625 0 0 0 0.73046875 0 0 0 1 0"})})})})]}),xe=({children:r})=>l(S,{children:[l(v,{overflow:"hidden",className:"globParent",position:"absolute",width:"100vw",height:"100%",minHeight:"100vh",children:[e($,{size:["60%","60%"],speed:30,globSizes:[[60,65],[70,80],[30,75]],left:"0%",top:"10%",opacity:.5,color:x.colors.brand.green}),e($,{size:["600px","600px"],left:"-50px",top:"-20px",color:x.colors.brand.green})]}),l(v,{className:"cs-header",position:"absolute",top:"0",right:"0",left:"0",width:"100vw",height:"80px",children:[e("a",{href:"https://characterstrong.com",children:e("img",{className:"header-img",src:fe,alt:"CharacterStrong Logo"})}),r]})]}),Ne="AIzaSyA6ybJwxJZgd0t91Xx_QEr_4FU5hph0ifM",De=({lat:r,lon:t})=>{const a={width:"250px",height:"250px"},o={lat:r,lng:t};return e(S,{children:e(J,{googleMapsApiKey:Ne,children:e(Z,{mapContainerStyle:a,center:o,zoom:10,children:e(Q,{position:o,clickable:!0})})})})},Ee=({lat:r,lon:t,name:a,street:o,city:s,state:n,zip:c,county:h,schoolSelected:d})=>e(S,{children:d?l("div",{children:[e(p,{className:"map-heading",children:a}),e(p,{children:o}),l(p,{children:[s,", ",n," ",c]}),e(p,{children:h}),e("br",{}),e(De,{lat:r,lon:t})]}):e(S,{})}),we=async r=>{let t=`https://nces.ed.gov/opengis/rest/services/K12_School_Locations/EDGE_GEOCODE_PUBLICLEA_1516/MapServer/0/query?where=UPPER(NAME) LIKE UPPER('%${r}%')&outFields=*&outSR=4326&f=json`,a=[],o=await(await fetch(t)).json();return a=[...o.features?o.features.map(s=>s.attributes):[]],a},Ce=async(r,t)=>{let a=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Private_School_Locations_Current/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${r}%')${t?`%20AND%20LEAID%20%3D%20'${t}'`:""}&outFields=*&outSR=4326&f=json`,o=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Public_School_Location_201819/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${r}%')${t?`%20AND%20LEAID%20%3D%20'${t}'`:""}&outFields=*&outSR=4326&f=json`,s=[],n=await(await fetch(a)).json(),c=await(await fetch(o)).json();return s=[...n.features?n.features.map(h=>h.attributes):[],...c.features?c.features.map(h=>h.attributes):[]],s},Le=()=>{const[r,t]=m.exports.useState(!1),[a,o]=m.exports.useState(!1),[s,n]=m.exports.useState(!1),[c,h]=m.exports.useState(!1),[d,N]=m.exports.useState([]),[u,b]=m.exports.useState([]),[f,B]=m.exports.useState(""),[g,C]=m.exports.useState({}),[U,D]=m.exports.useState(!1),j=async i=>{if(i.preventDefault(),h(!1),D(!1),b([]),C({}),f){t(!0);const E=await we(f);N(E)}else return;L(),t(!1),n(!0)},G=async i=>{D(!1),o(!0);const E=await Ce("",i);b(E),o(!1),h(!0)},L=()=>{if(!(!s&&d.length===0))return s&&d.length===0?`No Results for "${f}".`:d.length===1?`1 District Result for "${f}"`:100<d.length?l(p,{className:"too-many-results-header",children:["Too Many Results",e("br",{})," ",e("span",{style:{fontSize:"16px"},children:"Please Narrow Your Search"})]}):`${d.length} District Results for "${f}"`},W=()=>{if(!(!c&&u.length===0))return c&&u.length===0?"No Associated School Results":u.length===1?"1 Associated School Result":`${u.length} Associated School Results`},z=i=>{console.log(i),D(!0),console.log("Latitude:",i.LAT),console.log("Longitude:",i.LON),C(i)};return e(X,{padding:"100px 0",children:e(V,{className:"home-container",maxW:"container.lg",children:e(ee,{initialScale:.9,in:!0,children:l(ge,{variant:"rounded",borderColor:"blue",children:[e(te,{align:"center",textTransform:"uppercase",fontWeight:"600",children:"School Data Finder!"}),e(p,{className:"subtitle",children:"Welcome to our comprehensive school and school district data center! Let's get started."}),e(re,{style:{margin:"10px 0"}}),e("form",{onSubmit:()=>j(event),children:l(oe,{spacing:"24px",children:[l(se,{children:[e(ae,{required:!0,placeholder:"Search for a District",value:f,size:"md",onChange:i=>B(i.target.value)}),e(ne,{children:e(ie,{color:"#0070ac43"})})]}),e(le,{type:"submit",size:"md",variant:"ghost",children:"Search"})]})}),l(ce,{minChildWidth:"250px",columns:3,spacing:8,children:[l(v,{className:"boxLeft",children:[e(p,{fontWeight:"400",children:r?e(k,{}):e(S,{})}),e(p,{children:L()}),e("br",{}),100<d.length?e(S,{}):e(T,{className:"ul",listStyleType:"none",children:d.map(i=>l(_,{className:"li",onClick:()=>G(i.LEAID),children:[i.NAME," ",e(P,{color:"#DDB94F85",className:"i-icon"})]},i.LEAID))}),e("br",{})]}),l(v,{className:"boxCenter",children:[e(p,{fontWeight:"400",children:a?e(k,{}):e(S,{})}),e(p,{children:W()}),e("br",{}),e(T,{className:"ul",listStyleType:"none",children:u.map(i=>l(_,{className:"li",onClick:()=>z(i),children:[i.NAME," ",e(P,{color:"#DDB94F85",className:"i-icon"})]},i.NAME))})]}),e(v,{className:"boxRight",children:e(Ee,{lat:g.LAT,lon:g.LON,name:g.NAME,street:g.STREET,city:g.CITY,state:g.STATE,zip:g.ZIP,county:g.NMCNTY,schoolSelected:U})})]})]})})})})};function Re(){return console.log(`
  
  Thank you, Mike & Ash, for giving me the opportunity to 
  tackle this super fun coding challenge! I can't wait to
  (hopefully \u{1F604}) connect with you all again.
  
\u2588\u2588 \u2588\u2584\u2588 \u2584\u2580\u2584 \u2588 \u2588 \u2588\u2584\u2580 . \u2588..\u2588 \u2584\u2580\u2584 \u2588/\u2588
\u2590\u258C \u2588\u2580\u2588 \u2588\u2580\u2588 \u2588 \u2588 \u2588\u2580\u2584 . .\u2590\u258C. \u2580\u2584\u2580 \u2584\u2584/
  
  `),l("div",{className:"App",children:[e(xe,{}),e(Le,{})]})}ue.render(e(de.StrictMode,{children:e(he,{theme:x,children:e(Re,{})})}),document.getElementById("root"));
